name: Waka Readme

on:
  schedule:
    - cron: "0 0 * * *" # Roda diariamente à meia-noite UTC
  workflow_dispatch:

permissions:
  contents: write # Permissão necessária para fazer o commit das estatísticas no README

jobs:
  update-readme-with-wakatime:
    name: WakaTime Readme Stats
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      
      # USANDO O CAMINHO CORRETO E OFICIAL DA ACTION
      - uses: wakatime/wakatime-readme-action@v1 # <--- Caminho corrigido!
        with:
          # Sua chave de API do WakaTime (SECRETA)
          WAKATIME_API_KEY: ${{ secrets.WAKATIME_API_KEY }}
          # O título do card que será exibido
          COMMIT_MESSAGE: 'Atualizando WakaTime Stats'
